#include <iostream>
#include <cstdio>
#include <map>
#include <set>
#include <list>
#include <string>
#include <utility>
#include <vector>
#include <sstream>
#include <algorithm>
#include <unordered_set>
using namespace std;

#define in(N, ii) for(int i = ii; i < N; i++)

template<typename T>
string to_string(T begin, T end)
{
    stringstream ss;
    bool first = true;
    for(; begin != end; begin++)
    {
        if(!first) ss << ", ";
        first = false;
        ss << *begin;
    }

    return ss.str();
}

template<typename T>
string to_string(const vector<T>& v)
{
    return to_string(v.begin(), v.end());
}

template<typename T>
string to_string(const vector<T>* v)
{
    return to_string(v->begin(), v->end());
}

inline void get_substr(const string& s, int a, int b, int c, ostringstream& os) {
    os << s[a] << s[b] << s[c];
}

void get_strings(const vector<string>& s, int a, int b, int c, unordered_set<string>& strs) {
    for(const string& tmp: s) {
        ostringstream os;
        get_substr(tmp, a, b, c, os);
        strs.insert(os.str());
    }
}

int main() {
	freopen("cownomics.in", "r", stdin);
	// freopen("cownomics.out", "w", stdout);
    int N, M;
    vector<string> s;
    vector<string> p;

    cin >> N >> M;

    in(N, 0) {
        string c;
        cin >> c;
        s.push_back(c);
    }

    in(N, 0) {
        string c;
        cin >> c;
        p.push_back(c);
    }

    //cout << "Spotty cows " << to_string(s) << endl;
    //cout << "Plain cows " << to_string(p) << endl;

    // cout << s[0] << " " << p[1] << " " << (s[0][0] == p[1][0] && s[0][1] == p[1][1] && s[0][2] == p[1][2]) << endl;

    int ans = 0;
    for(int a = 0; a < M-2; a++) {
        for(int b = a+1; b < M-1; b++) {
            for(int c = b+1; c < M; c++) {
                bool isu = true;
                unordered_set<string> s_strs;
                get_strings(s, a, b, c, s_strs);

                for(string pg: p) {
                    ostringstream os;
                    get_substr(pg, a, b, c, os);
                    if(s_strs.count(os.str()) > 0) {
                        isu = false;
                        break;
                    }
                }

                if(isu) ans++;
            }
        }
    }

    cout << ans;
	return 0;
}

